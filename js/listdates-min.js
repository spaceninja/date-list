var content="",xhr=new XMLHttpRequest,listDates=function(t){for(var e=0;e<t.length;e++){var n="",o=moment(t[e].date),r=o.diff(moment(),"milliseconds"),a=moment.duration(1,"months"),s=o.fromNow(),d=humanizeDuration(r,{largest:2,round:!0});d=r<0?d+" ago":"in "+d,n=Math.abs(r)<a?s:d,content+="<tr><td>"+t[e].event+"</td><td class='num'>"+o.calendar(null,{sameElse:"ll"})+"</td><td class='num'>"+n+"</td></tr>"}};xhr.open("GET","data/dates.json",!0),xhr.onload=function(){if(xhr.status>=200&&xhr.status<400){var t=JSON.parse(xhr.responseText);listDates(t),document.getElementById("datelist-content").innerHTML=content}else content="Whoops! Something went wrong. Please try again.",document.getElementById("datelist-error").innerHTML=content},xhr.onerror=function(){content="Whoops! We couldn't reach the server. Please try again.",document.getElementById("datelist-error").innerHTML=content},xhr.send();