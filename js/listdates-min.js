var content="",dates=[],xhr=new XMLHttpRequest,listDates=function(){for(var t=0;t<dates.length;t++){var n="",e=moment(dates[t].date),a=e.diff(moment(),"milliseconds"),s=moment.duration(1,"months"),o=e.fromNow(),d=humanizeDuration(a,{largest:2,round:!0});d=a<0?d+" ago":"in "+d,n=Math.abs(a)<s?o:d,content+="<tr><td>"+dates[t].event+"</td><td class='num'>"+e.calendar(null,{sameElse:"ll"})+"</td><td class='num'>"+n+"</td></tr>"}};xhr.onload=function(){200===xhr.status?(dates=JSON.parse(xhr.responseText),listDates(),document.getElementById("datelist-content").innerHTML=content):(content='<tr><td colspan="3"><p>Whoops! Something went wrong. Please try again.</p></td></tr>',document.getElementById("datelist-content").innerHTML=content)},xhr.open("GET","data/dates.json",!0),xhr.send(null);